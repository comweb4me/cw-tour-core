{"version":3,"file":"ngx-tour-core.umd.js","sources":["ng://ngx-tour-core/lib/tour.service.ts","ng://ngx-tour-core/lib/tour-hotkey-listener.component.ts","ng://ngx-tour-core/lib/tour.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { NavigationStart, Router, UrlSegment } from '@angular/router';\r\n\r\nimport { TourAnchorDirective } from './tour-anchor.directive';\r\nimport { Subject, Observable, merge as mergeStatic } from 'rxjs';\r\nimport { first, map, filter } from 'rxjs/operators';\r\n\r\nexport interface IStepOption {\r\n  stepId?: string;\r\n  anchorId?: string;\r\n  title?: string;\r\n  content?: string;\r\n  route?: string | UrlSegment[];\r\n  nextStep?: number | string;\r\n  prevStep?: number | string;\r\n  placement?: any;\r\n  preventScrolling?: boolean;\r\n  prevBtnTitle?: string;\r\n  nextBtnTitle?: string;\r\n  endBtnTitle?: string;\r\n}\r\n\r\nexport enum TourState {\r\n  OFF,\r\n  ON,\r\n  PAUSED\r\n}\r\n\r\nexport enum TourDirection {\r\n  None = 0,\r\n  Next = 1,\r\n  Previous = 2\r\n}\r\n\r\n@Injectable()\r\nexport class TourService<T extends IStepOption = IStepOption> {\r\n  public stepShow$: Subject<T> = new Subject();\r\n  public stepHide$: Subject<T> = new Subject();\r\n  public initialize$: Subject<T[]> = new Subject();\r\n  public start$: Subject<T> = new Subject();\r\n  public end$: Subject<any> = new Subject();\r\n  public pause$: Subject<T> = new Subject();\r\n  public resume$: Subject<T> = new Subject();\r\n  public anchorRegister$: Subject<string> = new Subject();\r\n  public anchorUnregister$: Subject<string> = new Subject();\r\n  public events$: Observable<{ name: string; value: any }> = mergeStatic(\r\n    this.stepShow$.pipe(map(value => ({ name: 'stepShow', value }))),\r\n    this.stepHide$.pipe(map(value => ({ name: 'stepHide', value }))),\r\n    this.initialize$.pipe(map(value => ({ name: 'initialize', value }))),\r\n    this.start$.pipe(map(value => ({ name: 'start', value }))),\r\n    this.end$.pipe(map(value => ({ name: 'end', value }))),\r\n    this.pause$.pipe(map(value => ({ name: 'pause', value }))),\r\n    this.resume$.pipe(map(value => ({ name: 'resume', value }))),\r\n    this.anchorRegister$.pipe(\r\n      map(value => ({\r\n        name: 'anchorRegister',\r\n        value\r\n      }))\r\n    ),\r\n    this.anchorUnregister$.pipe(\r\n      map(value => ({\r\n        name: 'anchorUnregister',\r\n        value\r\n      }))\r\n    )\r\n  );\r\n\r\n  public steps: T[] = [];\r\n  public currentStep: T;\r\n\r\n  public anchors: { [anchorId: string]: TourAnchorDirective } = {};\r\n  private status: TourState = TourState.OFF;\r\n  private isHotKeysEnabled = true;\r\n  private direction: TourDirection = TourDirection.Next;\r\n\r\n  constructor(\r\n    private router: Router,\r\n  ) { }\r\n\r\n  public initialize(steps: T[], stepDefaults?: T): void {\r\n    if (steps && steps.length > 0) {\r\n      this.status = TourState.OFF;\r\n      this.steps = steps.map(step => Object.assign({}, stepDefaults, step));\r\n      this.initialize$.next(this.steps);\r\n    }\r\n  }\r\n\r\n  public disableHotkeys(): void {\r\n    this.isHotKeysEnabled = false;\r\n  }\r\n\r\n  public enableHotkeys(): void {\r\n    this.isHotKeysEnabled = true;\r\n  }\r\n\r\n  public start(): void {\r\n    this.startAt(0);\r\n  }\r\n\r\n  public startAt(stepId: number | string): void {\r\n    this.status = TourState.ON;\r\n    this.goToStep(this.loadStep(stepId));\r\n    this.start$.next();\r\n    this.router.events\r\n      .pipe(filter(event => event instanceof NavigationStart), first())\r\n      .subscribe(() => {\r\n        if (this.currentStep && this.currentStep.hasOwnProperty('route')) {\r\n          this.hideStep(this.currentStep);\r\n        }\r\n      });\r\n  }\r\n\r\n  public end(): void {\r\n    this.status = TourState.OFF;\r\n    this.hideStep(this.currentStep);\r\n    this.currentStep = undefined;\r\n    this.end$.next();\r\n    this.direction = TourDirection.Next;\r\n  }\r\n\r\n  public pause(): void {\r\n    this.status = TourState.PAUSED;\r\n    this.hideStep(this.currentStep);\r\n    this.pause$.next();\r\n  }\r\n\r\n  public resume(): void {\r\n    this.status = TourState.ON;\r\n    this.showStep(this.currentStep);\r\n    this.resume$.next();\r\n  }\r\n\r\n  public toggle(pause?: boolean): void {\r\n    if (pause) {\r\n      if (this.currentStep) {\r\n        this.pause();\r\n      } else {\r\n        this.resume();\r\n      }\r\n    } else {\r\n      if (this.currentStep) {\r\n        this.end();\r\n      } else {\r\n        this.start();\r\n      }\r\n    }\r\n  }\r\n\r\n  public next(): void {\r\n    this.direction = TourDirection.Next;\r\n    if (this.hasNext(this.currentStep)) {\r\n      this.goToStep(\r\n        this.loadStep(\r\n          this.currentStep.nextStep || this.steps.indexOf(this.currentStep) + 1\r\n        )\r\n      );\r\n    } else {\r\n      this.end();\r\n      return;\r\n    }\r\n  }\r\n\r\n  public hasNext(step: T): boolean {\r\n    if (!step) {\r\n      // console.warn('Can\\'t get next step. No currentStep.');\r\n      return false;\r\n    }\r\n    return (\r\n      step.nextStep !== undefined ||\r\n      this.steps.indexOf(step) < this.steps.length - 1\r\n    );\r\n  }\r\n\r\n  public prev(): void {\r\n    this.direction = TourDirection.Previous;\r\n    if (this.hasPrev(this.currentStep)) {\r\n      this.goToStep(\r\n        this.loadStep(\r\n          this.currentStep.prevStep || this.steps.indexOf(this.currentStep) - 1\r\n        )\r\n      );\r\n    } else {\r\n      this.end();\r\n      return;\r\n    }\r\n  }\r\n\r\n  public hasPrev(step: T): boolean {\r\n    if (!step) {\r\n      // console.warn('Can\\'t get previous step. No currentStep.');\r\n      return false;\r\n    }\r\n    return step.prevStep !== undefined || this.steps.indexOf(step) > 0;\r\n  }\r\n\r\n  public goto(stepId: number | string): void {\r\n    this.goToStep(this.loadStep(stepId));\r\n  }\r\n\r\n  public register(anchorId: string, anchor: TourAnchorDirective): void {\r\n    if (!anchorId)\r\n      return;\r\n    if (this.anchors[anchorId]) {\r\n      throw new Error('anchorId ' + anchorId + ' already registered!');\r\n    }\r\n    this.anchors[anchorId] = anchor;\r\n    this.anchorRegister$.next(anchorId);\r\n  }\r\n\r\n  public unregister(anchorId: string): void {\r\n    if (!anchorId)\r\n      return;\r\n    delete this.anchors[anchorId];\r\n    this.anchorUnregister$.next(anchorId);\r\n  }\r\n\r\n  public getStatus(): TourState {\r\n    return this.status;\r\n  }\r\n\r\n  public isHotkeysEnabled(): boolean {\r\n    return this.isHotKeysEnabled;\r\n  }\r\n\r\n  private goToStep(step: T): void {\r\n    if (!step) {\r\n      // console.warn('Can\\'t go to non-existent step');\r\n      this.end();\r\n      return;\r\n    }\r\n    let navigatePromise: Promise<boolean> = new Promise(resolve =>\r\n      resolve(true)\r\n    );\r\n    if (step.route !== undefined && typeof step.route === 'string') {\r\n      navigatePromise = this.router.navigateByUrl(step.route);\r\n    } else if (step.route && Array.isArray(step.route)) {\r\n      navigatePromise = this.router.navigate(step.route);\r\n    }\r\n    navigatePromise.then(navigated => {\r\n      if (navigated !== false) {\r\n        setTimeout(() => this.setCurrentStep(step));\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadStep(stepId: number | string): T {\r\n    if (typeof stepId === 'number') {\r\n      return this.steps[stepId];\r\n    } else {\r\n      return this.steps.find(step => step.stepId === stepId);\r\n    }\r\n  }\r\n\r\n  private setCurrentStep(step: T): void {\r\n    if (this.currentStep) {\r\n      this.hideStep(this.currentStep);\r\n    }\r\n    this.currentStep = step;\r\n    this.showStep(this.currentStep);\r\n    this.router.events\r\n      .pipe(filter(event => event instanceof NavigationStart), first())\r\n      .subscribe((event) => {\r\n        if (this.currentStep && this.currentStep.hasOwnProperty('route')) {\r\n          this.hideStep(this.currentStep);\r\n        }\r\n      });\r\n  }\r\n\r\n  private showStep(step: T): void {\r\n    const anchor = this.anchors[step && step.anchorId];\r\n    if (!anchor) {\r\n      let stepIndex = this.steps.indexOf(step);\r\n      this.skipStep();\r\n    } else {\r\n      anchor.showTourStep(step);\r\n      this.stepShow$.next(step);\r\n    }\r\n  }\r\n\r\n  protected hideStep(step: T): void {\r\n    const anchor = this.anchors[step && step.anchorId];\r\n    if (!anchor) {\r\n      return;\r\n    }\r\n    anchor.hideTourStep();\r\n    this.stepHide$.next(step);\r\n  }\r\n\r\n  private skipStep() {\r\n    switch (this.direction) {\r\n      case TourDirection.Next: {\r\n        this.next();\r\n        break;\r\n      }\r\n      case TourDirection.Previous: {\r\n        this.prev();\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, HostListener } from '@angular/core';\r\n\r\nimport { TourService, TourState } from './tour.service';\r\n\r\n@Component({\r\n  selector: 'tour-hotkey-listener',\r\n  template: `<ng-content></ng-content>`\r\n})\r\nexport class TourHotkeyListenerComponent {\r\n  constructor(public tourService: TourService) {}\r\n\r\n  /**\r\n   * Configures hot keys for controlling the tour with the keyboard\r\n   */\r\n  @HostListener('window:keydown.Escape')\r\n  public onEscapeKey(): void {\r\n    if (\r\n      this.tourService.getStatus() === TourState.ON &&\r\n      this.tourService.isHotkeysEnabled()\r\n    ) {\r\n      this.tourService.end();\r\n    }\r\n  }\r\n\r\n  @HostListener('window:keydown.ArrowRight')\r\n  public onArrowRightKey(): void {\r\n    if (\r\n      this.tourService.getStatus() === TourState.ON &&\r\n      this.tourService.hasNext(this.tourService.currentStep) &&\r\n      this.tourService.isHotkeysEnabled()\r\n    ) {\r\n      this.tourService.next();\r\n    }\r\n  }\r\n\r\n  @HostListener('window:keydown.ArrowLeft')\r\n  public onArrowLeftKey(): void {\r\n    if (\r\n      this.tourService.getStatus() === TourState.ON &&\r\n      this.tourService.hasPrev(this.tourService.currentStep) &&\r\n      this.tourService.isHotkeysEnabled()\r\n    ) {\r\n      this.tourService.prev();\r\n    }\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { TourHotkeyListenerComponent } from './tour-hotkey-listener.component';\r\nimport { TourService } from './tour.service';\r\n\r\n@NgModule({\r\n    declarations: [TourHotkeyListenerComponent],\r\n    exports: [TourHotkeyListenerComponent],\r\n    imports: [CommonModule, RouterModule],\r\n})\r\nexport class TourModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return {\r\n            ngModule: TourModule,\r\n            providers: [\r\n                TourService,\r\n            ],\r\n        };\r\n    }\r\n};\r\n\r\nexport { TourService };\r\n"],"names":["Subject","mergeStatic","map","filter","NavigationStart","first","Injectable","Router","Component","HostListener","NgModule","CommonModule","RouterModule"],"mappings":"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"}